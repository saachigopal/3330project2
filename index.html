<!DOCTYPE html>

<html>

<head>
  <meta charset="UTF-8">
  <title> Movie Generator </title>
  <script src="https://d3js.org/d3.v4.min.js"></script>
</head>
<style >
body {
        font-family: 'Avenir';
        background-color: #bcbcbc
      }
header {
    text-align: center;
}
path {
  stroke: #fff;
}
.loader{
  border: 16px solid #f3f3f3;
  border-radius: 50%;
  border-top: 16px solid grey;
  border-right: 16px solid #3498db;
  border-bottom: 16px solid grey;
  border-left: 16px solid grey;
  width: 310px;
  height: 310px;
  -webkit-animation: spin 2s linear infinite;
  animation: spin 2s linear infinite;
}
@-webkit-keyframes spin {
  0% { -webkit-transform: rotate(0deg); }
  100% { -webkit-transform: rotate(360deg); }
}
@keyframes spin {
  0% { transform: rotate(0deg); }
  100% { transform: rotate(360deg); }
}
#summaryGenre,#summaryYear,#summaryRating,#percentage{
  position:absolute;
  left:540px;
  width: 180px;
  text-align: center;
}
#summaryGenre{
  top:400px;
}
#summaryYear{
  top:425px;
}
#summaryRating{
  top:450px;
}
#percentage{
  top:475px;
}
/* The Modal (background) */
.overlay {
    display: none; /* Hidden by default */
    /*top: -50%;*/
    /*visibility: hidden;*/
    position: fixed; /* Stay in place */
    z-index: 1; /* Sit on top */
    padding-top: 5%; /* Location of the box */
    left: 0;
    top: 0;
    width: 100%; /* Full width */
    height: 100%; /* Full height */
    overflow: auto; /* Enable scroll if needed */
    background-color: rgb(0,0,0); /* Fallback color */
    background-color: rgba(0,0,0,0.4); /* Black w/ opacity */
    /*transition: all .5s ease-in-out;*/
}
/* Modal Content */
.popup {
    background-color: #fefefe;
    /*background-color: #233c82;*/
    margin: auto;
    padding: 20px;
    border: 1px solid #888;
    width: 80%;
    height: 80%;
    position: relative;
}
/* Movie Poster Details CSS */
div.poster {
  display: block;
  width: 37%;
  height: 95%;
  position: relative;
  float: left;
  object-fit: fill;
  /*z-index: 2; defined in case we need it for stack order*/ 
}
/* Movie Text Details CSS */
div.right_half {
  display: flex;
  /*min-height: 120%;*/
  /*width: 50%;*/
  position: relative;
  width: 58%;
  height: 95%;
  float: left;
  flex-direction: column;
  left: 3%;
}
/* Section 1*/
/*div.title_year {
  width: 100%;
  margin-bottom: 3%; 
  float: left;
  margin-top: 10%;
  position: relative;
}*/
div.title {
  height: 8%;
  width: 100%;
  margin-bottom: 5%;
}
span.release_date {
  opacity: 0.6;
  font-size: 25px;
  font-weight: 400;
}
/* Section 2 */
div.rating_genre {
  width: 100%;
  height: 10%;
  float: left;
  margin-bottom: 5%;
}
/* Section 3 */
div.plot_summary {
  width: 100%;
  /*height: 20%;*/
}
div.title_labels {
  font-size: 20px;
  font-weight: bold;
  margin-top: 1%;
}
 
/* The Close Button */
.close {
  color: #aaaaaa;
  float: right;
  font-size: 28px;
  font-weight: bold;
  margin-top: -1%;
}
.close:hover,
.close:focus {
    color: #000;
    text-decoration: none;
    cursor: pointer;
}

/* Rating Circle */
.progress-circle {
  background-color: #ddd;
  border-radius: 50%;
  display: inline-block;
  height: 5%;
  /*margin: 4rem 2rem 0;*/
  position: relative;
  width: 5%;
}
.progress-circle:before {
  align-items: center;
  background-color: #fff;
  border-radius: 50%;
  content: attr(data-progress) '%';
  display: flex;
  font-size: 3rem;
  justify-content: center;
  position: absolute;
  left: 1rem;
  right: 1rem;
  top: 1rem;
  bottom: 1rem;
  transition: -webkit-transform 0.2s ease;
  transition: transform 0.2s ease;
  transition: transform 0.2s ease, -webkit-transform 0.2s ease;
}
.progress-circle:after {
  background-color: #0083ff;
  border-radius: 50%;
  content: '';
  display: inline-block;
  height: 100%;
  width: 100%;
}
.progress-circle:hover:before,
.progress-circle:focus:before {
  -webkit-transform: scale(0.8);
          transform: scale(0.8);
}
/**
* $step is set to 5 by default, meaning you can only use percentage classes in increments of five (e.g. 25, 30, 45, 50, and so on). This helps to reduce the size of the final CSS file. If you need a number that doesn't end in 0 or 5, you can change the text percentage while rounding the class up/down to the nearest 5.
*/
.progress-circle[data-progress="0"]:after {
  background-image: linear-gradient(90deg, #ddd 50%, transparent 50%, transparent), linear-gradient(90deg, #0083ff 50%, #ddd 50%, #ddd);
}
.progress-circle[data-progress="1"]:after {
  background-image: linear-gradient(90deg, #ddd 50%, transparent 50%, transparent), linear-gradient(93.6deg, #0083ff 50%, #ddd 50%, #ddd);
}
.progress-circle[data-progress="2"]:after {
  background-image: linear-gradient(90deg, #ddd 50%, transparent 50%, transparent), linear-gradient(97.2deg, #0083ff 50%, #ddd 50%, #ddd);
}
.progress-circle[data-progress="3"]:after {
  background-image: linear-gradient(90deg, #ddd 50%, transparent 50%, transparent), linear-gradient(100.8deg, #0083ff 50%, #ddd 50%, #ddd);
}
.progress-circle[data-progress="4"]:after {
  background-image: linear-gradient(90deg, #ddd 50%, transparent 50%, transparent), linear-gradient(104.4deg, #0083ff 50%, #ddd 50%, #ddd);
}
.progress-circle[data-progress="5"]:after {
  background-image: linear-gradient(90deg, #ddd 50%, transparent 50%, transparent), linear-gradient(108deg, #0083ff 50%, #ddd 50%, #ddd);
}
.progress-circle[data-progress="6"]:after {
  background-image: linear-gradient(90deg, #ddd 50%, transparent 50%, transparent), linear-gradient(111.6deg, #0083ff 50%, #ddd 50%, #ddd);
}
.progress-circle[data-progress="7"]:after {
  background-image: linear-gradient(90deg, #ddd 50%, transparent 50%, transparent), linear-gradient(115.2deg, #0083ff 50%, #ddd 50%, #ddd);
}
.progress-circle[data-progress="8"]:after {
  background-image: linear-gradient(90deg, #ddd 50%, transparent 50%, transparent), linear-gradient(118.8deg, #0083ff 50%, #ddd 50%, #ddd);
}
.progress-circle[data-progress="9"]:after {
  background-image: linear-gradient(90deg, #ddd 50%, transparent 50%, transparent), linear-gradient(122.4deg, #0083ff 50%, #ddd 50%, #ddd);
}
.progress-circle[data-progress="10"]:after {
  background-image: linear-gradient(90deg, #ddd 50%, transparent 50%, transparent), linear-gradient(126deg, #0083ff 50%, #ddd 50%, #ddd);
}
.progress-circle[data-progress="11"]:after {
  background-image: linear-gradient(90deg, #ddd 50%, transparent 50%, transparent), linear-gradient(129.6deg, #0083ff 50%, #ddd 50%, #ddd);
}
.progress-circle[data-progress="12"]:after {
  background-image: linear-gradient(90deg, #ddd 50%, transparent 50%, transparent), linear-gradient(133.2deg, #0083ff 50%, #ddd 50%, #ddd);
}
.progress-circle[data-progress="13"]:after {
  background-image: linear-gradient(90deg, #ddd 50%, transparent 50%, transparent), linear-gradient(136.8deg, #0083ff 50%, #ddd 50%, #ddd);
}
.progress-circle[data-progress="14"]:after {
  background-image: linear-gradient(90deg, #ddd 50%, transparent 50%, transparent), linear-gradient(140.4deg, #0083ff 50%, #ddd 50%, #ddd);
}
.progress-circle[data-progress="15"]:after {
  background-image: linear-gradient(90deg, #ddd 50%, transparent 50%, transparent), linear-gradient(144deg, #0083ff 50%, #ddd 50%, #ddd);
}
.progress-circle[data-progress="16"]:after {
  background-image: linear-gradient(90deg, #ddd 50%, transparent 50%, transparent), linear-gradient(147.6deg, #0083ff 50%, #ddd 50%, #ddd);
}
.progress-circle[data-progress="17"]:after {
  background-image: linear-gradient(90deg, #ddd 50%, transparent 50%, transparent), linear-gradient(151.2deg, #0083ff 50%, #ddd 50%, #ddd);
}
.progress-circle[data-progress="18"]:after {
  background-image: linear-gradient(90deg, #ddd 50%, transparent 50%, transparent), linear-gradient(154.8deg, #0083ff 50%, #ddd 50%, #ddd);
}
.progress-circle[data-progress="19"]:after {
  background-image: linear-gradient(90deg, #ddd 50%, transparent 50%, transparent), linear-gradient(158.4deg, #0083ff 50%, #ddd 50%, #ddd);
}
.progress-circle[data-progress="20"]:after {
  background-image: linear-gradient(90deg, #ddd 50%, transparent 50%, transparent), linear-gradient(162deg, #0083ff 50%, #ddd 50%, #ddd);
}
.progress-circle[data-progress="21"]:after {
  background-image: linear-gradient(90deg, #ddd 50%, transparent 50%, transparent), linear-gradient(165.60000000000002deg, #0083ff 50%, #ddd 50%, #ddd);
}
.progress-circle[data-progress="22"]:after {
  background-image: linear-gradient(90deg, #ddd 50%, transparent 50%, transparent), linear-gradient(169.2deg, #0083ff 50%, #ddd 50%, #ddd);
}
.progress-circle[data-progress="23"]:after {
  background-image: linear-gradient(90deg, #ddd 50%, transparent 50%, transparent), linear-gradient(172.8deg, #0083ff 50%, #ddd 50%, #ddd);
}
.progress-circle[data-progress="24"]:after {
  background-image: linear-gradient(90deg, #ddd 50%, transparent 50%, transparent), linear-gradient(176.4deg, #0083ff 50%, #ddd 50%, #ddd);
}
.progress-circle[data-progress="25"]:after {
  background-image: linear-gradient(90deg, #ddd 50%, transparent 50%, transparent), linear-gradient(180deg, #0083ff 50%, #ddd 50%, #ddd);
}
.progress-circle[data-progress="26"]:after {
  background-image: linear-gradient(90deg, #ddd 50%, transparent 50%, transparent), linear-gradient(183.60000000000002deg, #0083ff 50%, #ddd 50%, #ddd);
}
.progress-circle[data-progress="27"]:after {
  background-image: linear-gradient(90deg, #ddd 50%, transparent 50%, transparent), linear-gradient(187.2deg, #0083ff 50%, #ddd 50%, #ddd);
}
.progress-circle[data-progress="28"]:after {
  background-image: linear-gradient(90deg, #ddd 50%, transparent 50%, transparent), linear-gradient(190.8deg, #0083ff 50%, #ddd 50%, #ddd);
}
.progress-circle[data-progress="29"]:after {
  background-image: linear-gradient(90deg, #ddd 50%, transparent 50%, transparent), linear-gradient(194.4deg, #0083ff 50%, #ddd 50%, #ddd);
}
.progress-circle[data-progress="30"]:after {
  background-image: linear-gradient(90deg, #ddd 50%, transparent 50%, transparent), linear-gradient(198deg, #0083ff 50%, #ddd 50%, #ddd);
}
.progress-circle[data-progress="31"]:after {
  background-image: linear-gradient(90deg, #ddd 50%, transparent 50%, transparent), linear-gradient(201.60000000000002deg, #0083ff 50%, #ddd 50%, #ddd);
}
.progress-circle[data-progress="32"]:after {
  background-image: linear-gradient(90deg, #ddd 50%, transparent 50%, transparent), linear-gradient(205.2deg, #0083ff 50%, #ddd 50%, #ddd);
}
.progress-circle[data-progress="33"]:after {
  background-image: linear-gradient(90deg, #ddd 50%, transparent 50%, transparent), linear-gradient(208.8deg, #0083ff 50%, #ddd 50%, #ddd);
}
.progress-circle[data-progress="34"]:after {
  background-image: linear-gradient(90deg, #ddd 50%, transparent 50%, transparent), linear-gradient(212.4deg, #0083ff 50%, #ddd 50%, #ddd);
}
.progress-circle[data-progress="35"]:after {
  background-image: linear-gradient(90deg, #ddd 50%, transparent 50%, transparent), linear-gradient(216deg, #0083ff 50%, #ddd 50%, #ddd);
}
.progress-circle[data-progress="36"]:after {
  background-image: linear-gradient(90deg, #ddd 50%, transparent 50%, transparent), linear-gradient(219.6deg, #0083ff 50%, #ddd 50%, #ddd);
}
.progress-circle[data-progress="37"]:after {
  background-image: linear-gradient(90deg, #ddd 50%, transparent 50%, transparent), linear-gradient(223.20000000000002deg, #0083ff 50%, #ddd 50%, #ddd);
}
.progress-circle[data-progress="38"]:after {
  background-image: linear-gradient(90deg, #ddd 50%, transparent 50%, transparent), linear-gradient(226.8deg, #0083ff 50%, #ddd 50%, #ddd);
}
.progress-circle[data-progress="39"]:after {
  background-image: linear-gradient(90deg, #ddd 50%, transparent 50%, transparent), linear-gradient(230.4deg, #0083ff 50%, #ddd 50%, #ddd);
}
.progress-circle[data-progress="40"]:after {
  background-image: linear-gradient(90deg, #ddd 50%, transparent 50%, transparent), linear-gradient(234deg, #0083ff 50%, #ddd 50%, #ddd);
}
.progress-circle[data-progress="41"]:after {
  background-image: linear-gradient(90deg, #ddd 50%, transparent 50%, transparent), linear-gradient(237.6deg, #0083ff 50%, #ddd 50%, #ddd);
}
.progress-circle[data-progress="42"]:after {
  background-image: linear-gradient(90deg, #ddd 50%, transparent 50%, transparent), linear-gradient(241.20000000000002deg, #0083ff 50%, #ddd 50%, #ddd);
}
.progress-circle[data-progress="43"]:after {
  background-image: linear-gradient(90deg, #ddd 50%, transparent 50%, transparent), linear-gradient(244.8deg, #0083ff 50%, #ddd 50%, #ddd);
}
.progress-circle[data-progress="44"]:after {
  background-image: linear-gradient(90deg, #ddd 50%, transparent 50%, transparent), linear-gradient(248.4deg, #0083ff 50%, #ddd 50%, #ddd);
}
.progress-circle[data-progress="45"]:after {
  background-image: linear-gradient(90deg, #ddd 50%, transparent 50%, transparent), linear-gradient(252deg, #0083ff 50%, #ddd 50%, #ddd);
}
.progress-circle[data-progress="46"]:after {
  background-image: linear-gradient(90deg, #ddd 50%, transparent 50%, transparent), linear-gradient(255.6deg, #0083ff 50%, #ddd 50%, #ddd);
}
.progress-circle[data-progress="47"]:after {
  background-image: linear-gradient(90deg, #ddd 50%, transparent 50%, transparent), linear-gradient(259.20000000000005deg, #0083ff 50%, #ddd 50%, #ddd);
}
.progress-circle[data-progress="48"]:after {
  background-image: linear-gradient(90deg, #ddd 50%, transparent 50%, transparent), linear-gradient(262.8deg, #0083ff 50%, #ddd 50%, #ddd);
}
.progress-circle[data-progress="49"]:after {
  background-image: linear-gradient(90deg, #ddd 50%, transparent 50%, transparent), linear-gradient(266.4deg, #0083ff 50%, #ddd 50%, #ddd);
}
.progress-circle[data-progress="50"]:after {
  background-image: linear-gradient(-90deg, #0083ff 50%, transparent 50%, transparent), linear-gradient(270deg, #0083ff 50%, #ddd 50%, #ddd);
}
.progress-circle[data-progress="51"]:after {
  background-image: linear-gradient(-86.4deg, #0083ff 50%, transparent 50%, transparent), linear-gradient(270deg, #0083ff 50%, #ddd 50%, #ddd);
}
.progress-circle[data-progress="52"]:after {
  background-image: linear-gradient(-82.8deg, #0083ff 50%, transparent 50%, transparent), linear-gradient(270deg, #0083ff 50%, #ddd 50%, #ddd);
}
.progress-circle[data-progress="53"]:after {
  background-image: linear-gradient(-79.2deg, #0083ff 50%, transparent 50%, transparent), linear-gradient(270deg, #0083ff 50%, #ddd 50%, #ddd);
}
.progress-circle[data-progress="54"]:after {
  background-image: linear-gradient(-75.6deg, #0083ff 50%, transparent 50%, transparent), linear-gradient(270deg, #0083ff 50%, #ddd 50%, #ddd);
}
.progress-circle[data-progress="55"]:after {
  background-image: linear-gradient(-72deg, #0083ff 50%, transparent 50%, transparent), linear-gradient(270deg, #0083ff 50%, #ddd 50%, #ddd);
}
.progress-circle[data-progress="56"]:after {
  background-image: linear-gradient(-68.4deg, #0083ff 50%, transparent 50%, transparent), linear-gradient(270deg, #0083ff 50%, #ddd 50%, #ddd);
}
.progress-circle[data-progress="57"]:after {
  background-image: linear-gradient(-64.8deg, #0083ff 50%, transparent 50%, transparent), linear-gradient(270deg, #0083ff 50%, #ddd 50%, #ddd);
}
.progress-circle[data-progress="58"]:after {
  background-image: linear-gradient(-61.2deg, #0083ff 50%, transparent 50%, transparent), linear-gradient(270deg, #0083ff 50%, #ddd 50%, #ddd);
}
.progress-circle[data-progress="59"]:after {
  background-image: linear-gradient(-57.6deg, #0083ff 50%, transparent 50%, transparent), linear-gradient(270deg, #0083ff 50%, #ddd 50%, #ddd);
}
.progress-circle[data-progress="60"]:after {
  background-image: linear-gradient(-54deg, #0083ff 50%, transparent 50%, transparent), linear-gradient(270deg, #0083ff 50%, #ddd 50%, #ddd);
}
.progress-circle[data-progress="61"]:after {
  background-image: linear-gradient(-50.4deg, #0083ff 50%, transparent 50%, transparent), linear-gradient(270deg, #0083ff 50%, #ddd 50%, #ddd);
}
.progress-circle[data-progress="62"]:after {
  background-image: linear-gradient(-46.8deg, #0083ff 50%, transparent 50%, transparent), linear-gradient(270deg, #0083ff 50%, #ddd 50%, #ddd);
}
.progress-circle[data-progress="63"]:after {
  background-image: linear-gradient(-43.199999999999996deg, #0083ff 50%, transparent 50%, transparent), linear-gradient(270deg, #0083ff 50%, #ddd 50%, #ddd);
}
.progress-circle[data-progress="64"]:after {
  background-image: linear-gradient(-39.6deg, #0083ff 50%, transparent 50%, transparent), linear-gradient(270deg, #0083ff 50%, #ddd 50%, #ddd);
}
.progress-circle[data-progress="65"]:after {
  background-image: linear-gradient(-36deg, #0083ff 50%, transparent 50%, transparent), linear-gradient(270deg, #0083ff 50%, #ddd 50%, #ddd);
}
.progress-circle[data-progress="66"]:after {
  background-image: linear-gradient(-32.4deg, #0083ff 50%, transparent 50%, transparent), linear-gradient(270deg, #0083ff 50%, #ddd 50%, #ddd);
}
.progress-circle[data-progress="67"]:after {
  background-image: linear-gradient(-28.799999999999997deg, #0083ff 50%, transparent 50%, transparent), linear-gradient(270deg, #0083ff 50%, #ddd 50%, #ddd);
}
.progress-circle[data-progress="68"]:after {
  background-image: linear-gradient(-25.200000000000003deg, #0083ff 50%, transparent 50%, transparent), linear-gradient(270deg, #0083ff 50%, #ddd 50%, #ddd);
}
.progress-circle[data-progress="69"]:after {
  background-image: linear-gradient(-21.599999999999994deg, #0083ff 50%, transparent 50%, transparent), linear-gradient(270deg, #0083ff 50%, #ddd 50%, #ddd);
}
.progress-circle[data-progress="70"]:after {
  background-image: linear-gradient(-18deg, #0083ff 50%, transparent 50%, transparent), linear-gradient(270deg, #0083ff 50%, #ddd 50%, #ddd);
}
.progress-circle[data-progress="71"]:after {
  background-image: linear-gradient(-14.399999999999991deg, #0083ff 50%, transparent 50%, transparent), linear-gradient(270deg, #0083ff 50%, #ddd 50%, #ddd);
}
.progress-circle[data-progress="72"]:after {
  background-image: linear-gradient(-10.799999999999997deg, #0083ff 50%, transparent 50%, transparent), linear-gradient(270deg, #0083ff 50%, #ddd 50%, #ddd);
}
.progress-circle[data-progress="73"]:after {
  background-image: linear-gradient(-7.200000000000003deg, #0083ff 50%, transparent 50%, transparent), linear-gradient(270deg, #0083ff 50%, #ddd 50%, #ddd);
}
.progress-circle[data-progress="74"]:after {
  background-image: linear-gradient(-3.599999999999994deg, #0083ff 50%, transparent 50%, transparent), linear-gradient(270deg, #0083ff 50%, #ddd 50%, #ddd);
}
.progress-circle[data-progress="75"]:after {
  background-image: linear-gradient(0deg, #0083ff 50%, transparent 50%, transparent), linear-gradient(270deg, #0083ff 50%, #ddd 50%, #ddd);
}
.progress-circle[data-progress="76"]:after {
  background-image: linear-gradient(3.600000000000009deg, #0083ff 50%, transparent 50%, transparent), linear-gradient(270deg, #0083ff 50%, #ddd 50%, #ddd);
}
.progress-circle[data-progress="77"]:after {
  background-image: linear-gradient(7.200000000000003deg, #0083ff 50%, transparent 50%, transparent), linear-gradient(270deg, #0083ff 50%, #ddd 50%, #ddd);
}
.progress-circle[data-progress="78"]:after {
  background-image: linear-gradient(10.799999999999997deg, #0083ff 50%, transparent 50%, transparent), linear-gradient(270deg, #0083ff 50%, #ddd 50%, #ddd);
}
.progress-circle[data-progress="79"]:after {
  background-image: linear-gradient(14.400000000000006deg, #0083ff 50%, transparent 50%, transparent), linear-gradient(270deg, #0083ff 50%, #ddd 50%, #ddd);
}
.progress-circle[data-progress="80"]:after {
  background-image: linear-gradient(18deg, #0083ff 50%, transparent 50%, transparent), linear-gradient(270deg, #0083ff 50%, #ddd 50%, #ddd);
}
.progress-circle[data-progress="81"]:after {
  background-image: linear-gradient(21.60000000000001deg, #0083ff 50%, transparent 50%, transparent), linear-gradient(270deg, #0083ff 50%, #ddd 50%, #ddd);
}
.progress-circle[data-progress="82"]:after {
  background-image: linear-gradient(25.200000000000003deg, #0083ff 50%, transparent 50%, transparent), linear-gradient(270deg, #0083ff 50%, #ddd 50%, #ddd);
}
.progress-circle[data-progress="83"]:after {
  background-image: linear-gradient(28.799999999999997deg, #0083ff 50%, transparent 50%, transparent), linear-gradient(270deg, #0083ff 50%, #ddd 50%, #ddd);
}
.progress-circle[data-progress="84"]:after {
  background-image: linear-gradient(32.400000000000006deg, #0083ff 50%, transparent 50%, transparent), linear-gradient(270deg, #0083ff 50%, #ddd 50%, #ddd);
}
.progress-circle[data-progress="85"]:after {
  background-image: linear-gradient(36deg, #0083ff 50%, transparent 50%, transparent), linear-gradient(270deg, #0083ff 50%, #ddd 50%, #ddd);
}
.progress-circle[data-progress="86"]:after {
  background-image: linear-gradient(39.599999999999994deg, #0083ff 50%, transparent 50%, transparent), linear-gradient(270deg, #0083ff 50%, #ddd 50%, #ddd);
}
.progress-circle[data-progress="87"]:after {
  background-image: linear-gradient(43.20000000000002deg, #0083ff 50%, transparent 50%, transparent), linear-gradient(270deg, #0083ff 50%, #ddd 50%, #ddd);
}
.progress-circle[data-progress="88"]:after {
  background-image: linear-gradient(46.80000000000001deg, #0083ff 50%, transparent 50%, transparent), linear-gradient(270deg, #0083ff 50%, #ddd 50%, #ddd);
}
.progress-circle[data-progress="89"]:after {
  background-image: linear-gradient(50.400000000000006deg, #0083ff 50%, transparent 50%, transparent), linear-gradient(270deg, #0083ff 50%, #ddd 50%, #ddd);
}
.progress-circle[data-progress="90"]:after {
  background-image: linear-gradient(54deg, #0083ff 50%, transparent 50%, transparent), linear-gradient(270deg, #0083ff 50%, #ddd 50%, #ddd);
}
.progress-circle[data-progress="91"]:after {
  background-image: linear-gradient(57.599999999999994deg, #0083ff 50%, transparent 50%, transparent), linear-gradient(270deg, #0083ff 50%, #ddd 50%, #ddd);
}
.progress-circle[data-progress="92"]:after {
  background-image: linear-gradient(61.20000000000002deg, #0083ff 50%, transparent 50%, transparent), linear-gradient(270deg, #0083ff 50%, #ddd 50%, #ddd);
}
.progress-circle[data-progress="93"]:after {
  background-image: linear-gradient(64.80000000000001deg, #0083ff 50%, transparent 50%, transparent), linear-gradient(270deg, #0083ff 50%, #ddd 50%, #ddd);
}
.progress-circle[data-progress="94"]:after {
  background-image: linear-gradient(68.4deg, #0083ff 50%, transparent 50%, transparent), linear-gradient(270deg, #0083ff 50%, #ddd 50%, #ddd);
}
.progress-circle[data-progress="95"]:after {
  background-image: linear-gradient(72deg, #0083ff 50%, transparent 50%, transparent), linear-gradient(270deg, #0083ff 50%, #ddd 50%, #ddd);
}
.progress-circle[data-progress="96"]:after {
  background-image: linear-gradient(75.6deg, #0083ff 50%, transparent 50%, transparent), linear-gradient(270deg, #0083ff 50%, #ddd 50%, #ddd);
}
.progress-circle[data-progress="97"]:after {
  background-image: linear-gradient(79.20000000000002deg, #0083ff 50%, transparent 50%, transparent), linear-gradient(270deg, #0083ff 50%, #ddd 50%, #ddd);
}
.progress-circle[data-progress="98"]:after {
  background-image: linear-gradient(82.80000000000001deg, #0083ff 50%, transparent 50%, transparent), linear-gradient(270deg, #0083ff 50%, #ddd 50%, #ddd);
}
.progress-circle[data-progress="99"]:after {
  background-image: linear-gradient(86.4deg, #0083ff 50%, transparent 50%, transparent), linear-gradient(270deg, #0083ff 50%, #ddd 50%, #ddd);
}
.progress-circle[data-progress="100"]:after {
  background-image: linear-gradient(90deg, #0083ff 50%, transparent 50%, transparent), linear-gradient(270deg, #0083ff 50%, #ddd 50%, #ddd);
}


/*Attempt 2*/
@import url(http://fonts.googleapis.com/css?family=Lato:100,300,400,700,900,100italic,300italic,400italic,700italic,900italic);

.radial-progress {
  @circle-size: 100%;
  @circle-background: #d6dadc;
  @circle-color: #97a71d;
  @inset-size: 90px;
  @inset-color: #fbfbfb;
  @transition-length: 1s;
  @shadow: 6px 6px 10px rgba(0,0,0,0.2);
  @percentage-color: #97a71d;
  @percentage-font-size: 22px;
  @percentage-text-width: 57px;

  margin: 50px;
  width:  @circle-size;
  height: @circle-size;

  background-color: @circle-background;
  border-radius: 50%;
  .circle {
    .mask, .fill, .shadow {
      width:    @circle-size;
      height:   @circle-size;
      position: absolute;
      border-radius: 50%;
    }
    .shadow {
      box-shadow: @shadow inset;
    }
    .mask, .fill {
      -webkit-backface-visibility: hidden;
      transition: -webkit-transform @transition-length;
      transition: -ms-transform @transition-length;
      transition: transform @transition-length;
      border-radius: 50%;
    }
    .mask {
      clip: rect(0px, @circle-size, @circle-size, @circle-size/2);
      .fill {
        clip: rect(0px, @circle-size/2, @circle-size, 0px);
        background-color: @circle-color;
      }
    }
  }
  .inset {
    width:       @inset-size;
    height:      @inset-size;
    position:    absolute;
    margin-left: (@circle-size - @inset-size)/2;
    margin-top:  (@circle-size - @inset-size)/2;

    background-color: @inset-color;
    border-radius: 50%;
    box-shadow: @shadow;
    .percentage {
      width:       @percentage-text-width;
      position:    absolute;
      top:         (@inset-size - @percentage-font-size) / 2;
      left:        (@inset-size - @percentage-text-width) / 2;

      line-height: 1;
      text-align:  center;

      font-family: "Lato", "Helvetica Neue", Helvetica, Arial, sans-serif;
      color:       @percentage-color;
      font-weight: 800;
      font-size:   @percentage-font-size;
    }
  }

  @i: 0;
  @increment: 180deg / 100;
  .loop (@i) when (@i <= 100) {
    &[data-progress="@{i}"] {
      .circle {
        .mask.full, .fill {
          -webkit-transform: rotate(@increment * @i);
          -ms-transform: rotate(@increment * @i);
          transform: rotate(@increment * @i);
        } 
        .fill.fix {
          -webkit-transform: rotate(@increment * @i * 2);
          -ms-transform: rotate(@increment * @i * 2);
          transform: rotate(@increment * @i * 2);
        }
      }
      .inset .percentage:before {
        content: "@{i}%"
      }
    }
    .loop(@i + 1);
  }
  .loop(@i);
}
</style>

    
<body>
 <div id="sunburst">
  <header><h1 id="steps">
    Select a Genre 
  </h1>
  </header>
  <div class="container" id="summaryGenre"></div>
  <div class="container" id="summaryYear"></div>
  <div class="container" id="summaryRating"></div>
  <div class="container" id="percentage"></div>
  </div> 
  <!-- The Modal -->
  <div id="myModal" class="overlay">
  <!-- Modal pop-up for movie details-->
      <div id="modalcontent" class="popup">
        <div id= "poster_image" class= "poster"></div>
        <span class="close">&times;</span>
        <div class= "right_half">
          <div id="movie_title" class="title"> 
            <span id="movie_name" style="font-size:30px; font-weight:bold"> Example Movie</span>
            <span id="movie_year" class= "release_date"> (1948)</span>
          </div>
          <div id="rating_genre" class="rating_genre">
            <div class="radial-progress" data-progress="0">
              <div class="circle">
                <div class="mask full">
                  <div class="fill"></div>
                </div>
                <div class="mask half">
                  <div class="fill"></div>
                  <div class="fill fix"></div>
                </div>
                <div class="shadow"></div>
              </div>
              <div class="inset">
                <div class="percentage"></div>
              </div>
            </div>
          </div>
          <div class="title_labels">Plot Summary:</div>
          <div id= "plot_summary" class="plot_summary">Example plot summary</div>   
          <div class="title_labels">Cast List:</div>
          <div id= "cast">Example cast</div>  
          <div class="title_labels">Director:</div>
          <div id= "director">Example director</div>
          <div class="title_labels">Production Company:</div>
          <div id= "production_company">Example production company</div>
          <div class="title_labels">Box Office:</div> 
          <div id= "box_office">Example box office number</div>    
        </div>
    </div>
  </div>
  <div id="plot"></div>
<div id="buttons"></div>
<script>
var movieData; //global variable to store json data
//Filter the json file based on genre
function filterGenre(genre){
    var genrelist=genre.split("/");
    var genres; 
    if(genrelist.length>2){
      genres=movieData.filter(d => d.Genre==genrelist[0] || d.Genre==genrelist[1] || d.Genre==genrelist[2]);
    }else if(genrelist.length>1){
       genres=movieData.filter(d => d.Genre==genrelist[0] || d.Genre==genrelist[1]);
    }else{
      genres=movieData.filter(d => d.Genre==genre);
    }
    return genres;
  }
//Filter the movies
  function filterMovie(genre,yearStart,yearEnd,rating){
    var ratinglist=rating.split("/");
    var ratings;
    var genres=filterGenre(genre);
    var year=genres.filter(d => d.Year>=yearStart && d.Year<=yearEnd);
    if(ratinglist.length>1){
       ratings=year.filter(d => d.Rated==ratinglist[0] || d.Rated==ratinglist[1]);
    }else{
      ratings=year.filter(d => d.Rated==rating);
    }
    return ratings.length;
  }
//Load the json file and parse it
d3.json("movies.json", function (error, data) {
  movieData = data;
  
  var nodeData = {
        "name": "", "children": [{
            "name": "Crime","children": [{
              "name": "1920-1960", "children": [{ 
                "name":"NR", "size":filterMovie("Crime",1920,1960,"NR")},{   
                "name":"PG/G", "size":filterMovie("Crime",1920,1960,"PG/G")},{ 
                "name":"PG-13", "size":filterMovie("Crime",1920,1960,"PG-13")},{ 
                "name":"R", "size":filterMovie("Crime",1920,1960,"R")}]},{
              "name": "1961-1990", "children": [{
                "name":"NR", "size":filterMovie("Crime",1961,1990,"NR")},{
                "name":"PG/G", "size":filterMovie("Crime",1961,1990,"PG/G")}, { 
                "name":"PG-13", "size":filterMovie("Crime",1961,1990,"PG-13")},{ 
                "name":"R", "size":filterMovie("Crime",1961,1990,"R")}]},{
              "name": "1991-2016", "children": [{ 
                "name":"NR", "size":filterMovie("Crime",1991,2016,"NR")},{
                "name":"PG/G", "size":filterMovie("Crime",1991,2016,"PG/G")}, { 
                "name":"PG-13", "size":filterMovie("Crime",1991,2016,"PG-13")},{
                "name":"R", "size":filterMovie("Crime",1991,2016,"R")}]}]
        }, {
            "name": "Action/Adventure","children": [{
              "name": "1920-1960", "children": [{ 
                "name":"NR", "size":filterMovie("Action/Adventure",1920,1960,"NR")},{   
                "name":"PG/G", "size":filterMovie("Action/Adventure",1920,1960,"PG/G")},{ 
                "name":"PG-13", "size":filterMovie("Action/Adventure",1920,1960,"PG-13")},{ 
                "name":"R", "size":filterMovie("Action/Adventure",1920,1960,"R")}]},{
              "name": "1961-1990", "children": [{
                "name":"NR", "size":filterMovie("Action/Adventure",1961,1990,"NR")},{
                "name":"PG/G", "size":filterMovie("Action/Adventure",1961,1990,"PG/G")}, { 
                "name":"PG-13", "size":filterMovie("Action/Adventure",1961,1990,"PG-13")},{ 
                "name":"R", "size":filterMovie("Action/Adventure",1961,1990,"R")}]},{
              "name": "1991-2016", "children": [{ 
                "name":"NR", "size":filterMovie("Action/Adventure",1991,2016,"NR")},{
                "name":"PG/G", "size":filterMovie("Action/Adventure",1991,2016,"PG/G")}, { 
                "name":"PG-13", "size":filterMovie("Action/Adventure",1991,2016,"PG-13")},{
                "name":"R", "size":filterMovie("Action/Adventure",1991,2016,"R")}]}]
            
        },{
            "name": "Drama/Biography","children": [{
              "name": "1920-1960", "children": [{ 
                "name":"NR", "size":filterMovie("Drama/Biography",1920,1960,"NR")},{   
                "name":"PG/G", "size":filterMovie("Drama/Biography",1920,1960,"PG/G")},{ 
                "name":"PG-13", "size":filterMovie("Drama/Biography",1920,1960,"PG-13")},{ 
                "name":"R", "size":filterMovie("Drama/Biography",1920,1960,"R")}]},{
              "name": "1961-1990", "children": [{
                "name":"NR", "size":filterMovie("Drama/Biography",1961,1990,"NR")},{
                "name":"PG/G", "size":filterMovie("Drama/Biography",1961,1990,"PG/G")}, { 
                "name":"PG-13", "size":filterMovie("Drama/Biography",1961,1990,"PG-13")},{ 
                "name":"R", "size":filterMovie("Drama/Biography",1961,1990,"R")}]},{
              "name": "1991-2016", "children": [{ 
                "name":"NR", "size":filterMovie("Drama/Biography",1991,2016,"NR")},{
                "name":"PG/G", "size":filterMovie("Drama/Biography",1991,2016,"PG/G")}, { 
                "name":"PG-13", "size":filterMovie("Drama/Biography",1991,2016,"PG-13")},{
                "name":"R", "size":filterMovie("Drama/Biography",1991,2016,"R")}]}]
          
        },{
            "name": "Comedy/Animation","children": [{ 
              "name": "1920-1960", "children": [{ 
                "name":"NR", "size":filterMovie("Comedy/Animation",1920,1960,"NR")},{   
                "name":"PG/G", "size":filterMovie("Comedy/Animation",1920,1960,"PG/G")},{ 
                "name":"PG-13", "size":filterMovie("Comedy/Animation",1920,1960,"PG-13")},{ 
                "name":"R", "size":filterMovie("Comedy/Animation",1920,1960,"R")}]},{
              "name": "1961-1990", "children": [{
                "name":"NR", "size":filterMovie("Comedy/Animation",1961,1990,"NR")},{
                "name":"PG/G", "size":filterMovie("Comedy/Animation",1961,1990,"PG/G")}, { 
                "name":"PG-13", "size":filterMovie("Comedy/Animation",1961,1990,"PG-13")},{ 
                "name":"R", "size":filterMovie("Comedy/Animation",1961,1990,"R")}]},{
              "name": "1991-2016", "children": [{ 
                "name":"NR", "size":filterMovie("Comedy/Animation",1991,2016,"NR")},{
                "name":"PG/G", "size":filterMovie("Comedy/Animation",1991,2016,"PG/G")}, { 
                "name":"PG-13", "size":filterMovie("Comedy/Animation",1991,2016,"PG-13")},{
                "name":"R", "size":filterMovie("Comedy/Animation",1991,2016,"R")}]}]
        },{
            "name": "Horror/Mystery/Sci-Fi","children": [{
              "name": "1920-1960", "children": [{ 
                "name":"NR", "size":filterMovie("Horror/Mystery/Sci-Fi",1920,1960,"NR")},{   
                "name":"PG/G", "size":filterMovie("Horror/Mystery/Sci-Fi",1920,1960,"PG/G")},{ 
                "name":"PG-13", "size":filterMovie("Horror/Mystery/Sci-Fi",1920,1960,"PG-13")},{ 
                "name":"R", "size":filterMovie("Horror/Mystery/Sci-Fi",1920,1960,"R")}]},{
              "name": "1961-1990", "children": [{
                "name":"NR", "size":filterMovie("Horror/Mystery/Sci-Fi",1961,1990,"NR")},{
                "name":"PG/G", "size":filterMovie("Horror/Mystery/Sci-Fi",1961,1990,"PG/G")}, { 
                "name":"PG-13", "size":filterMovie("Horror/Mystery/Sci-Fi",1961,1990,"PG-13")},{ 
                "name":"R", "size":filterMovie("Horror/Mystery/Sci-Fi",1961,1990,"R")}]},{
              "name": "1991-2016", "children": [{ 
                "name":"NR", "size":filterMovie("Horror/Mystery/Sci-Fi",1991,2016,"NR")},{
                "name":"PG/G", "size":filterMovie("Horror/Mystery/Sci-Fi",1991,2016,"PG/G")}, { 
                "name":"PG-13", "size":filterMovie("Horror/Mystery/Sci-Fi",1991,2016,"PG-13")},{
                "name":"R", "size":filterMovie("Horror/Mystery/Sci-Fi",1991,2016,"R")}]}]
        }]
  };
var width = 960,
    height = 700,
    radius = (Math.min(width, height) / 2) - 10;
var formatNumber = d3.format(",d");
var x = d3.scaleLinear()
    .range([0, 2 * Math.PI]);
var y = d3.scaleSqrt()
    .range([0, radius]);
var color = d3.scaleOrdinal(d3.schemeCategory20);
var partition = d3.partition();
var arc = d3.arc()
    .startAngle(d => Math.max(0, Math.min(2 * Math.PI, x(d.x0))))
    .endAngle(d => Math.max(0, Math.min(2 * Math.PI, x(d.x1))))
    .innerRadius(d => Math.max(0, y(d.y0)))
    .outerRadius(d => Math.max(0, y(d.y1)));
var svg = d3.select("#sunburst").append("svg")
    .attr("id","sunburst")
    .attr("width", width)
    .attr("height", height)
  .append("g")
    .attr("transform", "translate(" + (width/1.55)  + "," + (height / 2) + ")");
  //Create Sunburst
  root = d3.hierarchy(nodeData);
  root.sum(function(d) { return d.size; });
  svg.selectAll("path")
      .data(partition(root).descendants())
    .enter().append("path")
      .attr("d", arc)
      .style("fill", function(d) { return color((d.children ? d : d.parent).data.name); })
    .on("mouseover",mouseover)
    .on("mouseout", mouseout)
    .on("click", handleClick)
   
    function mouseover(d){
      svg.selectAll("text").remove();
      var parent_name=d.data.name;
      var current=d;
      var iter=0;
      while(current.parent){
        iter++;
        parent_name=current.parent.data.name+"->"+parent_name;
        current=current.parent;
      }
      parent_name=parent_name.substring(2,parent_name.length);
      var topics=parent_name.split("->");
      var name="";
      if(iter==3){
        name="Click to Generate Movie";
        document.getElementById("summaryGenre").innerHTML = topics[0];
        document.getElementById("summaryYear").innerHTML = topics[1];
        document.getElementById("summaryRating").innerHTML = topics[2];
      }else if(iter==2){
        name="Select a Rating"
        document.getElementById("summaryGenre").innerHTML = topics[0];
        document.getElementById("summaryYear").innerHTML = topics[1];
      }else if(iter==1){
        name="Select a Year Range"
        document.getElementById("summaryGenre").innerHTML = topics[0];
      }else{
        name="Select a Genre"
      }
      if(iter!=0){
        document.getElementById("percentage").innerHTML = formatNumber(d.value)+ "%";
      }
      
      document.getElementById("steps").innerHTML = name;
      
      var ancestors = getAncestors(d);
      // update sunburst (Fade all the segments and highlight only ancestors of current segment)
      svg.selectAll("path")
      .attr("opacity", 0.3);
      svg.selectAll("path")
      .filter(function(node) {
        return (ancestors.indexOf(node) >= 0);
      })
      .attr("opacity", 1);
    }
    function mouseout(d){
      svg.selectAll("text").remove();
      svg.selectAll("path")
      .attr("opacity", 1);
      document.getElementById("steps").innerHTML = "Select a Genre";
      document.getElementById("summaryGenre").innerHTML = "";
      document.getElementById("summaryYear").innerHTML = "";
      document.getElementById("summaryRating").innerHTML = "";
      document.getElementById("percentage").innerHTML = "";
    }
    function handleClick(d){
      var genre=""; var year=0; var rating="";
      var topicList=[];
      var current=d;
      while(current.parent){
        topicList.push(current.data.name);
        current=current.parent;
      }
      if(topicList.length==3){
        rating=topicList[0];
        year=topicList[1];
        genre=topicList[2];
      }else if(topicList.length==2){
        year=topicList[0];
        genre=topicList[1];
      }else if(topicList.length==1){
        genre=topicList[0];
      }
      
      //Create Loader
      var newDiv = document.createElement("div")
      newDiv.className="loader";
      newDiv.id="loadbar"
      newDiv.style.position="absolute";
      newDiv.style.left = 1.34*radius+'px';
      newDiv.style.top = height/2.64+'px';
      document.body.appendChild(newDiv);
      var selectedMovie;
      //Create Delay for Loader
      setTimeout(function(){
        //Generate movie and create form with movie summary
        selectedMovie=generateMovie(genre,year,rating);
        console.log(selectedMovie);
        
        //Display the modal
        var modal = document.getElementById('myModal');
        modal.style.display = "block";
        // modal.style.visibility = "visible";
        //Fill in the content
        d3.select("#poster_image").append("img")
        .attr("id","poster_img")
        .attr("width", "100%")
        .attr("height","100%")
        .attr("alt",selectedMovie.Title)
        .attr("class","poster")
        .attr("src",selectedMovie.Poster);
        // var movieTitle = d3.select("#movie_title").append("span")
        // .attr("id","movie_title_text")
        // .attr("height","100%")
        // // .attr("font-size", "100%")
        // .text(selectedMovie.Title);
        d3.select("#movie_name").text(selectedMovie.Title);
        // movieTitle.append("span")
        // .attr("id","release_date")
        // .attr("class","release_date")
        // .text(" ("+selectedMovie.Year+")");
        // }, 1200); 
        d3.select("#movie_year").text(" ("+selectedMovie.Year+")");
        d3.select("#cast").text(selectedMovie.Actors);
        d3.select("#director").text(selectedMovie.Director);
        d3.select("#production_company").text(selectedMovie.Production);
        d3.select("#box_office").text(selectedMovie["BoxOffice (US Gross)"]);

        //Add the rating
        // d3.select("#rating_genre").append("div")
        // .attr("style","width: 20%; height: 100%")
        // .attr("id","rating_circle")
        // .attr("class","progress-circle")
        // .attr("data-progress","75");

        d3.select("#plot_summary").text(selectedMovie.Plot);
      }, 1200); 
      
    }
    // Function used to generate movie suggestion based on inputs
    function generateMovie(Genre,Year,Rating){
      var movies=filterGenre(Genre);
      if(Year!=""){
        var years=Year.split("-");
        movies=movies.filter(function(d){return d.Year>=Number(years[0]) && d.Year<=Number(years[1])});
      }
      if(Rating !=""){
        ratings=Rating.split("/")
        movies=movies.filter(function(d){ 
       return d.Rated==ratings[0] || d.Rated==ratings[1]});
      }
      var loader=document.getElementById("loadbar");
      loader.parentNode.removeChild(loader);
      return movies[Math.floor(Math.random()*movies.length)];
    }
    function getAncestors(node) {
    var path = [];
    var current = node;
    while (current.parent) {
      path.unshift(current);
      current = current.parent;
    }
    return path;
  }
});
// Code for closing the modal. Model will close if the x is clicked or anywhere outside of the modal is clicked. 
// Credits: this functionality was based off the modal tutorial on w3schools.
// Get the modal and get the <span> element that closes the modal
var modal = document.getElementById('myModal');
var closeModal = document.getElementsByClassName("close")[0];
//Remove the added modal content
function removeModalContent () {
  d3.select("#poster_img").remove();
  d3.select("#rating_circle").remove();
  // d3.select("#movie_title_text").remove();
  // d3.select("#release_date").remove();
}
// When the user clicks on <span> (x), close the modal
closeModal.onclick = function() {
    modal.style.display = "none";
    // modal.style.visibility = "hidden";
    removeModalContent();
}
// When the user clicks anywhere outside of the modal, close it
window.onclick = function(event) {
    if (event.target == modal) {
        modal.style.display = "none";
        // modal.style.visibility = "hidden";
        removeModalContent();
    }
  }
</script>


<script>    
var color = d3.scaleOrdinal(d3.schemeCategory20);
var filmstats;
d3.json("movies.json", function(data) {
    filmstats = data;
    console.log(filmstats);
    showGraph();
});
    
function showGraph() {
    var svg2 = d3.select("#plot").append("svg")
        .attr("id", "graph")
        .attr("width", "750")
        .attr("height", "750")
    .attr("align","center");
    var xscale = d3.scaleLinear().domain([0,600]).range([0,660]);
    var yscale = d3.scaleLinear().domain([0,12]).range([660,0]);
    var xaxis = d3.axisBottom(xscale);
    var yaxis = d3.axisLeft(yscale);
    svg2.append("g").attr("transform", "translate(50,670)").call(xaxis);
    svg2.append("g").attr("transform", "translate(50,10)").call(yaxis);
    svg2.append("text").text("Box Office Returns (Million $)")
        .attr("x","250")
        .attr("y","720")
        .style("font-family","avenir")
        .style("font-size","16");
    svg2.append("text").text("Academy Awards Won")
        .attr("x","0")
        .attr("y","200")
        .attr("transform", "translate(-185, 450) rotate(-90)")
        .style("font-family","avenir")
        .style("font-size","16");
    for (var i=0; i < filmstats.length; i++) {
        svg2.append("circle")
        .attr("cx", 50+xscale(Number(filmstats[i]["BoxOffice (US Gross)"].replace(/[, ]+/g, ""))/1000000))
        .attr("cy", 10+yscale(filmstats[i]["Oscars Won"]))
        .attr("r", 10)
        .attr("fill", d=>color(i))
        .attr("fill-opacity", "0.5")
        .attr("stroke","none");
    }
};
var comedy = document.createElement("button");
var t0 = document.createTextNode("Comedy/Animation");
comedy.append(t0);
document.getElementById("buttons").appendChild(comedy);
    
comedy.addEventListener("click", function() { 
    var ComAni = filmstats.filter(d => (d.Genre == "Comedy" || d.Genre == "Animation")); 
    console.log(ComAni);
    //d3.select("svg2").selectAll("circles").remove();
    d3.select("svg2").selectAll("circles").data(ComAni).enter()
        .append("circle")
        
});
var drama = document.createElement("button");
var t1 = document.createTextNode("Drama/Biography");
drama.append(t1);
document.getElementById("buttons").appendChild(drama);
drama.addEventListener("click", function() {
    var DramBio = filmstats.filter(d => (d.Genre == "Drama" || d.Genre == "Biography"));
    console.log(DramBio);
});
    
var action = document.createElement("button");
var t2 = document.createTextNode("Action/Adventure");
action.append(t2);
document.getElementById("buttons").appendChild(action);
    
action.addEventListener("click", function() {
    var ActAdv = filmstats.filter(d => (d.Genre == "Action" || d.Genre == "Adventure"));
    console.log(ActAdv);
});
    
    
var crime = document.createElement("button");
var t3 = document.createTextNode("Crime");
crime.append(t3);
document.getElementById("buttons").appendChild(crime);
    
crime.addEventListener("click", function() {
    var cri = filmstats.filter(d => d.Genre == "Crime");
    console.log(cri);
});
    
var horror = document.createElement("button");
var t4 = document.createTextNode("Horror/Mystery/Sci-Fi");
horror.append(t4);
document.getElementById("buttons").appendChild(horror);   
    
horror.addEventListener("click", function() {
    var hms = filmstats.filter(d => d.Genre == "Horror" || d.Genre == "Mystery" || d.Genre == "Sci-Fi");
    console.log(hms);
});
</script>    
    

</html>
